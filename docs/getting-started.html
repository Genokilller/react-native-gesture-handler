<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Getting Started · React Native Gesture Handler</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Getting Started · React Native Gesture Handler"/><meta property="og:type" content="website"/><meta property="og:url" content="https://software-mansion.github.io/react-native-gesture-handler/index.html"/><meta property="og:description" content="Gesture Handler aims to replace React Native&#x27;s built in touch system called [Gesture Responder System](http://facebook.github.io/react-native/docs/gesture-responder-system.html)."/><meta property="og:image" content="https://software-mansion.github.io/react-native-gesture-handler/img/ghlogo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://software-mansion.github.io/react-native-gesture-handler/img/ghlogo.png"/><link rel="shortcut icon" href="/react-native-gesture-handler/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/rainbow.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-41044622-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/react-native-gesture-handler/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-native-gesture-handler/"><img class="logo" src="/react-native-gesture-handler/img/ghlogo.svg" alt="React Native Gesture Handler"/><h2 class="headerTitleWithLogo">React Native Gesture Handler</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/react-native-gesture-handler/docs/getting-started.html" target="_self">Docs</a></li><li class=""><a href="/react-native-gesture-handler/en/help.html" target="_self">Help</a></li><li class=""><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Basics</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Basics</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/react-native-gesture-handler/docs/getting-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/about-handlers.html">About Gesture Handlers</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/state.html">Handler State</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/interactions.html">Cross handler interactions</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/example.html">Running Example App</a></li></ul></div><div class="navGroup navGroupActive"><h3>Handlers</h3><ul><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-common.html">BaseGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-pan.html">PanGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-tap.html">TapGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-longpress.html">LongPressGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-rotation.html">RotationGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-fling.html">FlingGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-pinch.html">PinchGestureHandler</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/handler-force.html">ForceTouchGestureHandler</a></li></ul></div><div class="navGroup navGroupActive"><h3>Components</h3><ul><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/component-buttons.html">Buttons</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/component-swipeable.html">Swipeable</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/component-touchables.html">Touchables</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/component-drawer-layout.html">DrawerLayout</a></li></ul></div><div class="navGroup navGroupActive"><h3>Other</h3><ul><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/contributing.html">Contributing</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/troubleshooting.html">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/resources.html">Learning Resources</a></li><li class="navListItem"><a class="navItem" href="/react-native-gesture-handler/docs/credits.html">Credits</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/software-mansion/react-native-gesture-handler/edit/master/docs/getting-started.md" target="_blank" rel="noreferrer noopener">Edit</a><h1>Getting Started</h1></header><article><div><span><p>Gesture Handler aims to replace React Native's built in touch system called <a href="http://facebook.github.io/react-native/docs/gesture-responder-system.html">Gesture Responder System</a>.</p>
<p>The motivation for building this library was to address the performance limitations of React Native's Gesture Responder System and to provide more control over the built-in native components that can handle gestures.
We recommend <a href="https://www.youtube.com/watch?v=V8maYc4R2G0">this talk</a> by <a href="https://twitter.com/kzzzf">Krzysztof Magiera</a> in which he explains issues with the responder system.</p>
<p>In a nutshell, the library provides:</p>
<ul>
<li>A way to use a platform's native touch handling system for recognizing pinch, rotation and pan (besides a few other gestures).</li>
<li>The ability to define relations between gesture handlers, e.g. when you have a pan handler in <code>ScrollView</code> you can make that <code>ScrollView</code> wait until it knows pan won't recognize.</li>
<li>Mechanisms to use touchables that run in native thread and follow platform default behavior; e.g. in the event they are in a scrollable component, turning into pressed state is slightly delayed to prevent it from highlighting when you fling.</li>
<li>The possibility to implement smooth gesture interactions thanks to Animated Native Driver — interactions will be responsive even when the JS thread is overloaded.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<h3><a class="anchor" aria-hidden="true" id="managed-expo-https-expoio"></a><a href="#managed-expo-https-expoio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Managed <a href="https://expo.io">Expo</a></h3>
<p>To use the version of react-native-gesture-handler that is compatible with your managed Expo project, run <code>expo install react-native-gesture-handler</code>.</p>
<p>The Expo SDK incorporates the latest version of react-native-gesture-handler available at the time of each SDK release, so managed Expo apps might not always support all our latest features as soon as they are available.</p>
<h3><a class="anchor" aria-hidden="true" id="bare-react-native-http-facebookgithubio-react-native"></a><a href="#bare-react-native-http-facebookgithubio-react-native" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bare <a href="http://facebook.github.io/react-native/">React Native</a></h3>
<p>Since the library uses native support for handling gestures, it requires an extended installation to the norm. If you are starting a new project, you may want to initialize it with <a href="https://docs.expo.io/versions/latest/workflow/expo-cli/">expo-cli</a> and use a bare template, they come pre-installed with react-native-gesture-handler.</p>
<h4><a class="anchor" aria-hidden="true" id="requirements"></a><a href="#requirements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h4>
<table>
<thead>
<tr><th>version</th><th><code>react-native</code> version</th></tr>
</thead>
<tbody>
<tr><td>1.4.0+</td><td>0.60.0+</td></tr>
<tr><td>1.1.0+</td><td>0.57.2+</td></tr>
<tr><td>&lt;1.1.0</td><td>0.50.0+</td></tr>
</tbody>
</table>
<p>Note that if you wish to use <a href="https://reactjs.org/docs/refs-and-the-dom.html"><code>React.createRef()</code></a> support for <a href="/react-native-gesture-handler/docs/interactions.html">interactions</a> you need to use v16.3 of <a href="https://reactjs.org/">React</a></p>
<h4><a class="anchor" aria-hidden="true" id="js"></a><a href="#js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JS</h4>
<p>First, install the library using <code>yarn</code>:</p>
<pre><code class="hljs css bash">yarn add react-native-gesture-handler
</code></pre>
<p>or with <code>npm</code> if you prefer:</p>
<pre><code class="hljs css bash">npm install --save react-native-gesture-handler
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="linking"></a><a href="#linking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linking</h4>
<blockquote>
<p><strong>Important</strong>: You only need to do this step if you're using React Native 0.59 or lower. Since v0.60, linking happens automatically.</p>
</blockquote>
<pre><code class="hljs css bash">react-native link react-native-gesture-handler
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="android"></a><a href="#android" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android</h4>
<p>Follow the steps below:</p>
<p>If you use one of the <em>native navigation libraries</em> (e.g. <a href="https://github.com/wix/react-native-navigation">wix/react-native-navigation</a>), you should follow <a href="#with-wix-react-native-navigation-https-githubcom-wix-react-native-navigation">this separate guide</a> to get gesture handler library set up on Android. Ignore the rest of this step – it only applies to RN apps that use a standard Android project layout.</p>
<h5><a class="anchor" aria-hidden="true" id="updating-mainactivityjava"></a><a href="#updating-mainactivityjava" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating <code>MainActivity.java</code></h5>
<p>Update your <code>MainActivity.java</code> file (or wherever you create an instance of <code>ReactActivityDelegate</code>), so that it overrides the method responsible for creating <code>ReactRootView</code> instance and then use the root view wrapper provided by this library. Do not forget to import <code>ReactActivityDelegate</code>, <code>ReactRootView</code>, and <code>RNGestureHandlerEnabledRootView</code>:</p>
<pre><code class="hljs css diff">package com.swmansion.gesturehandler.react.example;

import com.facebook.react.ReactActivity;
<span class="hljs-addition">+ import com.facebook.react.ReactActivityDelegate;</span>
<span class="hljs-addition">+ import com.facebook.react.ReactRootView;</span>
<span class="hljs-addition">+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;</span>

public class MainActivity extends ReactActivity {

  @Override
  protected String getMainComponentName() {
    return "Example";
  }

<span class="hljs-addition">+  @Override</span>
<span class="hljs-addition">+  protected ReactActivityDelegate createReactActivityDelegate() {</span>
<span class="hljs-addition">+    return new ReactActivityDelegate(this, getMainComponentName()) {</span>
<span class="hljs-addition">+      @Override</span>
<span class="hljs-addition">+      protected ReactRootView createRootView() {</span>
<span class="hljs-addition">+       return new RNGestureHandlerEnabledRootView(MainActivity.this);</span>
<span class="hljs-addition">+      }</span>
<span class="hljs-addition">+    };</span>
<span class="hljs-addition">+  }</span>
}
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="running-jetifier"></a><a href="#running-jetifier" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running jetifier</h5>
<blockquote>
<p><strong>Important:</strong> You only need to do this step if you're on React Native 0.60 or greater.</p>
</blockquote>
<p>React Native 0.60 migrated from Support Library to AndroidX. React Native Gesture Handler is not yet compatible with AndroidX.</p>
<p>Make sure to <a href="https://github.com/react-native-community/cli/tree/master#updating-the-cli">update the React Native CLI to the latest version</a> which runs <a href="https://www.npmjs.com/package/jetifier"><code>jetifier</code></a> – the AndroidX migration tool – during the <code>run-android</code> command.</p>
<h4><a class="anchor" aria-hidden="true" id="ios"></a><a href="#ios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iOS</h4>
<p>There is no additional configuration required on iOS except what follows in the next steps.</p>
<p>If you're in a CocoaPods project (the default setup since React Native 0.60), make sure to install pods before you run your app:</p>
<pre><code class="hljs css sh"><span class="hljs-built_in">cd</span> ios &amp;&amp; pod install
</code></pre>
<p>For React Native 0.61 or greater, add the library as the first import in your index.js file:</p>
<pre><code class="hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> 'react-native-gesture-handler';</span>
</code></pre>
<hr>
<p>Now you're all set. Run your app with <code>react-native run-android</code> or <code>react-native run-ios</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="with-wix-react-native-navigation-https-githubcom-wix-react-native-navigation"></a><a href="#with-wix-react-native-navigation-https-githubcom-wix-react-native-navigation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>With <a href="https://github.com/wix/react-native-navigation">wix/react-native-navigation</a></h3>
<p>If you are using a native navigation library like <a href="https://github.com/wix/react-native-navigation">wix/react-native-navigation</a> you need to follow a different setup for your Android app to work properly. The reason is that both native navigation libraries and Gesture Handler library need to use their own special subclasses of <code>ReactRootView</code>.</p>
<p>Instead of changing Java code you will need to wrap every screen component using <code>gestureHandlerRootHOC</code> on the JS side. This can be done for example at the stage when you register your screens. Here's an example:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> { gestureHandlerRootHOC } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>;
<span class="hljs-keyword">import</span> { Navigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-navigation'</span>;

<span class="hljs-keyword">import</span> FirstTabScreen <span class="hljs-keyword">from</span> <span class="hljs-string">'./FirstTabScreen'</span>;
<span class="hljs-keyword">import</span> SecondTabScreen <span class="hljs-keyword">from</span> <span class="hljs-string">'./SecondTabScreen'</span>;
<span class="hljs-keyword">import</span> PushedScreen <span class="hljs-keyword">from</span> <span class="hljs-string">'./PushedScreen'</span>;

<span class="hljs-comment">// register all screens of the app (including internal ones)</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerScreens</span>(<span class="hljs-params"></span>) </span>{
  Navigation.registerComponent(<span class="hljs-string">'example.FirstTabScreen'</span>, () =&gt;
    gestureHandlerRootHOC(FirstTabScreen)
  );
  Navigation.registerComponent(<span class="hljs-string">'example.SecondTabScreen'</span>, () =&gt;
    gestureHandlerRootHOC(SecondTabScreen)
  );
  Navigation.registerComponent(<span class="hljs-string">'example.PushedScreen'</span>, () =&gt;
    gestureHandlerRootHOC(PushedScreen)
  );
}
</code></pre>
<p>You can check out <a href="https://github.com/henrikra/nativeNavigationGestureHandler">this example project</a> to see this kind of set up in action.</p>
<p>Remember that you need to wrap each screen that you use in your app with <code>gestureHandlerRootHOC</code> as with native navigation libraries each screen maps to a separate root view. It will not be enough to wrap the main screen only.</p>
<h3><a class="anchor" aria-hidden="true" id="usage-with-modals-on-android"></a><a href="#usage-with-modals-on-android" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage with modals on Android</h3>
<p>On Android RNGH does not work by default because modals are not located under React Native Root view in native hierarchy.
In order to make it workable, components need to be wrapped with <code>gestureHandlerRootHOC</code> (it's no-op on iOS and web).</p>
<p>E.g.</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> ExampleWithHoc = gestureHandlerRootHOC(
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GestureExample</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DraggableBox</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    );
  }
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Example</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span> <span class="hljs-attr">animationType</span>=<span class="hljs-string">"slide"</span> <span class="hljs-attr">transparent</span>=<span class="hljs-string">{false}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ExampleWithHoc</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span>
  );
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="for-library-authors"></a><a href="#for-library-authors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>For library authors</h3>
<p>If you're using gesture handler in your component library, you may want to wrap your library's code in the <code>GestureHandlerRootView</code> component. This will avoid extra configuration in <code>MainActivity.java</code> for the user.</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> { GestureHandlerRootView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> MyComponent() {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GestureHandlerRootView</span>&gt;</span>
      {/* content */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">GestureHandlerRootView</span>&gt;</span></span>
  )
}
</code></pre>
<p>If you use props such as <code>shouldCancelWhenOutside</code>, <code>simultaneousHandlers</code>, <code>waitFor</code> etc. with gesture handlers, the handlers need to be mounted under a single <code>GestureHandlerRootView</code>. So it's important to keep the <code>GestureHandlerRootView</code> as close to the actual root view as possible.</p>
<p>Note that <code>GestureHandlerRootView</code> acts like a normal <code>View</code>. So if you want it to fill the screen, you will need to pass <code>{ flex: 1 }</code> like you'll need to do with a normal <code>View</code>. By default, it'll take the size of the content nested inside.</p>
<h3><a class="anchor" aria-hidden="true" id="testing"></a><a href="#testing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing</h3>
<p>In order to load mocks provided by the library add following to your jest config in <code>package.json</code>:</p>
<pre><code class="hljs css json">"setupFiles": ["./node_modules/react-native-gesture-handler/jestSetup.js"]
</code></pre>
<p>Example:</p>
<pre><code class="hljs css json">"jest": {
  "preset": "react-native",
  "setupFiles": ["./node_modules/react-native-gesture-handler/jestSetup.js"]
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="about-handlers.html">About Gesture Handlers →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a><ul class="toc-headings"><li><a href="#managed-expo-https-expoio">Managed <a href="https://expo.io">Expo</a></a></li><li><a href="#bare-react-native-http-facebookgithubio-react-native">Bare <a href="http://facebook.github.io/react-native/">React Native</a></a></li><li><a href="#with-wix-react-native-navigation-https-githubcom-wix-react-native-navigation">With <a href="https://github.com/wix/react-native-navigation">wix/react-native-navigation</a></a></li><li><a href="#usage-with-modals-on-android">Usage with modals on Android</a></li><li><a href="#for-library-authors">For library authors</a></li><li><a href="#testing">Testing</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/react-native-gesture-handler/" class="nav-home"><img src="/react-native-gesture-handler/img/ghlogo.svg" alt="React Native Gesture Handler" width="66" height="58"/></a><div><h5>Docs</h5><a href="/react-native-gesture-handler/docs/getting-started.html">Getting Started</a><a href="/react-native-gesture-handler/docs/resources.html">Learning Resources</a><a href="/react-native-gesture-handler/docs/credits.html">Credits</a></div><div><h5>More</h5><a href="https://github.com/software-mansion/react-native-gesture-handler">GitHub</a><a href="https://github.com/software-mansion/react-native-gesture-handler/issues">Issues</a><a class="github-button" href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-count-href="/software-mansion/react-native-gesture-handler" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><div class="logos"><a href="https://expo.io" target="_blank" rel="noreferrer noopener" title="Expo" class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="28" viewBox="0 0 24 22"><path fill="white" d="M5.84439563e-15,18.52072 C0.042601976,19.0415198 0.225318565,19.5638181 0.704130384,20.2650123 C1.27202197,21.0966169 2.24914731,21.5536071 2.9619004,20.8204258 C3.44287509,20.3256353 8.643748,11.2343287 11.1501969,7.78933904 C11.4511295,7.3640867 12.0728268,7.3640867 12.3739317,7.78933904 C14.8803807,11.2343287 20.0812536,20.3256353 20.5622283,20.8204258 C21.2748089,21.5536071 22.2521067,21.0966169 22.8199983,20.2650123 C23.3790947,19.4462456 23.5343035,18.8713971 23.5343035,18.2580353 C23.5343035,17.8402716 15.4344759,2.76636898 14.6187677,1.5116517 C13.8343003,0.304828919 13.5946623,0.042335452 12.268059,0 L11.2560275,1.79395598e-12 C9.92932506,0.042335452 9.68981105,0.304828919 8.90518853,1.5116517 C8.10659328,2.74030565 0.3230204,17.219996 0,18.213285 L5.84439563e-15,18.52072 Z"></path></svg><svg fill="white" width="50" style="margin:4px 0 0 8px;" viewBox="0 0 50 22"><path d="M0.583491239,16.0324821 L0.583491239,0.578259454 L10.0431199,0.578259454 L10.0431199,3.33803123 L3.46623518,3.33803123 L3.46623518,6.80406065 L9.44522132,6.80406065 L9.44522132,9.45346295 L3.46623518,9.45346295 L3.46623518,13.2728887 L10.0431199,13.2728887 L10.0431199,16.0324821 L0.583491239,16.0324821 Z M12.2294939,16.0324821 L16.1585173,9.98337907 L12.4643765,4.3315348 L15.3471204,4.3315348 L17.8880602,8.26132998 L17.9308288,8.26132998 L20.4719411,4.3315348 L23.3545126,4.3315348 L19.6603717,9.98337907 L23.5893951,16.0324821 L20.6212864,16.0324821 L17.9308288,11.8379072 L17.8880602,11.8379072 L15.1976027,16.0324821 L12.2294939,16.0324821 Z M25.7247227,21 L25.7247227,4.3315348 L28.372584,4.3315348 L28.372584,5.4573391 L28.4153527,5.4573391 L28.5221018,5.29187404 C28.5648704,5.22554537 28.6750687,5.11160984 28.8530414,4.94971084 C29.0310141,4.78763353 29.2267496,4.64053367 29.4402478,4.50805464 C29.6537461,4.37557561 29.9420895,4.25789572 30.3051055,4.15483666 C30.6681215,4.0517776 31.055971,4.00024807 31.4688262,4.00024807 C32.8070706,4.00024807 33.977862,4.55583981 34.9815453,5.66720158 C35.9850561,6.77838504 36.4868977,8.28326124 36.4868977,10.1820085 C36.4868977,12.0953765 36.0028189,13.6039971 35.0348336,14.7078701 C34.0668483,15.8117432 32.8924354,16.3637689 31.5115949,16.3637689 C31.0987396,16.3637689 30.7179608,16.3122393 30.369086,16.2091803 C30.0203837,16.1061212 29.7392834,15.984697 29.5257851,15.8449075 C29.3121144,15.7051181 29.127071,15.5653286 28.9704827,15.4253609 C28.8138943,15.2855714 28.7000745,15.1641472 28.6288509,15.0610881 L28.5434861,14.9066778 L28.5007175,14.9066778 L28.5007175,21 L25.7247227,21 Z M28.5007175,8.96776594 L28.5007175,11.3741414 C28.5007175,12.0513357 28.7214588,12.6215483 29.1627691,13.0851357 C29.6040793,13.5489015 30.1947348,13.7806952 30.9350806,13.7806952 C31.7464775,13.7806952 32.4119781,13.4715181 32.9315825,12.853342 C33.451187,12.235166 33.7109029,11.3447215 33.7109029,10.1820085 C33.7109029,9.01929547 33.4548085,8.12885095 32.9422747,7.51067492 C32.4297409,6.89249888 31.7606187,6.5833217 30.9350806,6.5833217 C30.1947348,6.5833217 29.6040793,6.81511543 29.1627691,7.27888119 C28.7214588,7.74246864 28.5007175,8.30537079 28.5007175,8.96776594 Z M43.7042773,16.3637689 C42.1668483,16.3637689 40.9,15.8192319 39.9033873,14.7299797 C38.9069471,13.6409058 38.408727,12.1247965 38.408727,10.1820085 C38.408727,8.2686404 38.9212608,6.76001985 39.946156,5.6561468 C40.9710511,4.55227375 42.2239307,4.00024807 43.7042773,4.00024807 C45.1847964,4.00024807 46.4375035,4.55227375 47.4625711,5.6561468 C48.4874662,6.76001985 49,8.2686404 49,10.1820085 C49,12.1247965 48.5017799,13.6409058 47.5053397,14.7299797 C46.508727,15.8192319 45.2418787,16.3637689 43.7042773,16.3637689 Z M43.7042773,13.7806952 C44.5015329,13.7806952 45.1278865,13.467952 45.5835104,12.8422872 C46.0389619,12.2168008 46.2667738,11.3301006 46.2667738,10.1820085 C46.2667738,9.03391631 46.0355128,8.14721615 45.5728182,7.52172969 C45.1101237,6.89606493 44.4873917,6.5833217 43.7042773,6.5833217 C42.9213353,6.5833217 42.2986033,6.89249888 41.8359088,7.51067492 C41.3732142,8.12885095 41.1419532,9.01929547 41.1419532,10.1820085 C41.1419532,11.3447215 41.3697652,12.235166 41.8252166,12.853342 C42.2808406,13.4715181 42.9071941,13.7806952 43.7042773,13.7806952 Z"></path></svg></a><a href="https://swmansion.com" target="_blank" rel="noreferrer noopener" title="Expo" class="logo"><svg height="28" viewBox="0 0 8000 1000"><polyline fill="#F2F2F2" points="500 0, 933 250, 933 750, 824.75 812.5, 824.75 437.5, 500 625, 175.25 437.5, 175.25 500, 500 687.5, 770.625  531.25, 770.625 843.75, 500 1000, 67 750, 67 625, 500 875, 662.375 781.25, 662.375 718.75, 500 812.5, 67 562.5, 67 250 " data-reactid="8"></polyline><polyline fill="#F6F6F6" points=" 500 500 500 625, 824.75 437.5, 824.75 812.5, 933 750, 933 250" data-reactid="9"></polyline><polyline fill="#F6F6F6" points=" 500 687.5, 500 812.5, 662.375 718.75, 662.375 781.25, 500 875, 500 1000, 770.625  843.75, 770.625  531.25" data-reactid="10"></polyline><polyline fill="white" points=" 500 875, 500 1000, 67 750, 67 625" data-reactid="11"></polyline><polyline fill="white" points=" 500 500, 500 625, 175.25 437.5, 175.25 500, 500 687.5, 500 812.5, 67 562.5, 67 250 " data-reactid="12"></polyline><text x="1300" y="725" fill="white" opacity="1" font-size="600">Software Mansion</text></svg></a></div></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: 'fc5e7cc8717893ac4fab5c1541116e02',
                indexName: 'react_native_gesture_handler',
                inputSelector: '#search_input_react'
              });
            </script></body></html>